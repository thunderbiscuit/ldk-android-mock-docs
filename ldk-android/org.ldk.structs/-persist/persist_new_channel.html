<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>persist_new_channel</title>
<link href="../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../";</script>    <script>const storage = localStorage.getItem("dokka-dark-mode")
const savedDarkMode = storage ? JSON.parse(storage) : false
if(savedDarkMode === true){
    document.getElementsByTagName("html")[0].classList.add("theme-dark")
}</script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script><link href="../../../styles/style.css" rel="Stylesheet"><link href="../../../styles/jetbrains-mono.css" rel="Stylesheet"><link href="../../../styles/main.css" rel="Stylesheet"><link href="../../../styles/prism.css" rel="Stylesheet"><link href="../../../styles/logo-styles.css" rel="Stylesheet"><script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script><script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script><script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script><script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script><script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>  </head>
  <body>
    <div class="navigation-wrapper" id="navigation-wrapper">
      <div id="leftToggler"><span class="icon-toggler"></span></div>
      <div class="library-name"><a href="../../../index.html">ldk-android</a></div>
      <div></div>
      <div class="pull-right d-flex"><button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
      </div>
    </div>
    <div id="container">
      <div id="leftColumn">
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div class="main-content" id="content" pageIds="ldk-android::org.ldk.structs/Persist/persist_new_channel/#org.ldk.structs.OutPoint#org.ldk.structs.ChannelMonitor#org.ldk.structs.MonitorUpdateId/PointingToDeclaration//1946847589">
          <div class="breadcrumbs"><a href="../../../index.html">ldk-android</a>/<a href="../index.html">org.ldk.structs</a>/<a href="index.html">Persist</a>/<a href="persist_new_channel.html">persist_new_channel</a></div>
          <div class="cover ">
            <h1 class="cover"><span><span>persist_new_channel</span></span></h1>
          </div>
          <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":lib:dokkaHtml/release"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword"></span><span class="token keyword">fun </span><a href="persist_new_channel.html"><span class="token function">persist_new_channel</span></a><span class="token punctuation">(</span>channel_id<span class="token operator">: </span><a href="../-out-point/index.html">OutPoint</a><span class="token punctuation">, </span>data<span class="token operator">: </span><a href="../-channel-monitor/index.html">ChannelMonitor</a><span class="token punctuation">, </span>update_id<span class="token operator">: </span><a href="../-monitor-update-id/index.html">MonitorUpdateId</a><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-result_-none-channel-monitor-update-err-z/index.html">Result_NoneChannelMonitorUpdateErrZ</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Persist a new channel's data in response to a [`chain::Watch::watch_channel`] call. This is called by [`ChannelManager`] for new channels, or may be called directly, e.g. on startup. The data can be stored any way you want, but the identifier provided by LDK is the channel's outpoint (and it is up to you to maintain a correct mapping between the outpoint and the stored channel data). Note that you **must** persist every new monitor to disk. The `update_id` is used to identify this call to [`ChainMonitor::channel_monitor_updated`], if you return [`ChannelMonitorUpdateErr::TemporaryFailure`]. See [`Writeable::write`] on [`ChannelMonitor`] for writing out a `ChannelMonitor` and [`ChannelMonitorUpdateErr`] for requirements when returning errors. [`ChannelManager`]: crate::ln::channelmanager::ChannelManager [`Writeable::write`]: crate::util::ser::Writeable::write</p></div></div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2022 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

