<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>create_inbound_payment_for_hash</title>
<link href="../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../";</script>    <script>const storage = localStorage.getItem("dokka-dark-mode")
const savedDarkMode = storage ? JSON.parse(storage) : false
if(savedDarkMode === true){
    document.getElementsByTagName("html")[0].classList.add("theme-dark")
}</script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script><link href="../../../styles/style.css" rel="Stylesheet"><link href="../../../styles/jetbrains-mono.css" rel="Stylesheet"><link href="../../../styles/main.css" rel="Stylesheet"><link href="../../../styles/prism.css" rel="Stylesheet"><link href="../../../styles/logo-styles.css" rel="Stylesheet"><script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script><script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script><script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script><script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script><script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>  </head>
  <body>
    <div class="navigation-wrapper" id="navigation-wrapper">
      <div id="leftToggler"><span class="icon-toggler"></span></div>
      <div class="library-name"><a href="../../../index.html">ldk-android</a></div>
      <div></div>
      <div class="pull-right d-flex"><button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
      </div>
    </div>
    <div id="container">
      <div id="leftColumn">
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div class="main-content" id="content" pageIds="ldk-android::org.ldk.structs/ChannelManager/create_inbound_payment_for_hash/#byte[]#org.ldk.structs.Option_u64Z#int/PointingToDeclaration//1946847589">
          <div class="breadcrumbs"><a href="../../../index.html">ldk-android</a>/<a href="../index.html">org.ldk.structs</a>/<a href="index.html">ChannelManager</a>/<a href="create_inbound_payment_for_hash.html">create_inbound_payment_for_hash</a></div>
          <div class="cover ">
            <h1 class="cover"><span><span>create_inbound_payment_for_hash</span></span></h1>
          </div>
          <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":lib:dokkaHtml/release"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword"></span><span class="token keyword">fun </span><a href="create_inbound_payment_for_hash.html"><span class="token function">create_inbound_payment_for_hash</span></a><span class="token punctuation">(</span>payment_hash<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html">Array</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte/index.html">Byte</a><span class="token operator">&gt;</span><span class="token punctuation">, </span>min_value_msat<span class="token operator">: </span><a href="../-option_u64-z/index.html">Option_u64Z</a><span class="token punctuation">, </span>invoice_expiry_delta_secs<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-result_-payment-secret-none-z/index.html">Result_PaymentSecretNoneZ</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Gets a [`PaymentSecret`] for a given [`PaymentHash`], for which the payment preimage is stored external to LDK. A [`PaymentReceived`] event will only be generated if the [`PaymentSecret`] matches a payment secret fetched via this method or [`create_inbound_payment`], and which is at least the `min_value_msat` provided here, if one is provided. The [`PaymentHash`] (and corresponding [`PaymentPreimage`]) should be globally unique, though note that LDK will not stop you from registering duplicate payment hashes for inbound payments. `min_value_msat` should be set if the invoice being generated contains a value. Any payment received for the returned [`PaymentHash`] will be required to be at least `min_value_msat` before a [`PaymentReceived`] event will be generated, ensuring that we do not provide the sender \&quot;proof-of-payment\&quot; unless they have paid the required amount. `invoice_expiry_delta_secs` describes the number of seconds that the invoice is valid for in excess of the current time. This should roughly match the expiry time set in the invoice. After this many seconds, we will remove the inbound payment, resulting in any attempts to pay the invoice failing. The BOLT spec suggests 3,600 secs as a default validity time for invoices when no timeout is set. Note that we use block header time to time-out pending inbound payments (with some margin to compensate for the inaccuracy of block header timestamps). Thus, in practice we will accept a payment and generate a [`PaymentReceived`] event for some time after the expiry. If you need exact expiry semantics, you should enforce them upon receipt of [`PaymentReceived`]. May panic if `invoice_expiry_delta_secs` is greater than one year. Note that invoices generated for inbound payments should have their `min_final_cltv_expiry` set to at least [`MIN_FINAL_CLTV_EXPIRY`]. Note that a malicious eavesdropper can intuit whether an inbound payment was created by `create_inbound_payment` or `create_inbound_payment_for_hash` based on runtime. # Note If you register an inbound payment with this method, then serialize the `ChannelManager`, then deserialize it with a node running 0.0.103 and earlier, the payment will fail to be received. Errors if `min_value_msat` is greater than total bitcoin supply. [`create_inbound_payment`]: Self::create_inbound_payment [`PaymentReceived`]: events::Event::PaymentReceived</p></div></div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2022 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

